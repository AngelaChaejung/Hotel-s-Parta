<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src=" https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
  </head>
  <title>Hotelâ€™s Parta</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Gowun+Batang&family=Nanum+Gothic:wght@400;800&display=swap"
    rel="stylesheet"
  />

  <!-- ê¸€ê¼´ì„¤ì • -->

  <style>
    * {
      font-family: "Gowun Batang", serif;
    }

    /* ë©”ë‰´ë²„íŠ¼ê¸€ì”¨ */
    ul {
      list-style-type: none;

      padding-top: 7px;
      float: right;
      position: relative;

      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
    }

    /* ë©”ë‰´ë²„íŠ¼ */
    ul > button {
      width: 160px;
      height: 40px;
      background-color: rgba(0, 0, 0.5);
      border-radius: 50px;
      border: 1px solid white;
      color: white;
      margin: -40px 20px 10px auto;
    }

    /* ë©”ë‰´ë²„íŠ¼ìœ„ì¹˜        ???? */
    ul li {
      display: inline;

      border-left: 1px solid #c0c0c0;
      padding: 0px 15px 0px 10px;
      margin: 5px 0px 5px 0px;
    }

    ul li:first-child {
      border-left: none;
    }

    /* ì „ì²´ë°°ê²½ì´ë¯¸ì§€ */
    .fullbody {
      background: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
        url("https://digital.ihg.com/is/image/ihg/ic-alliance-resorts-las-vegas-5437642392-2x1?fit=fit,1&wid=2880&hei=1440&qlt=85,0&resMode=sharp2&op_usm=1.75,0.9,2,0")
          no-repeat center center fixed;
      -webkit-background-size: cover;
      -moz-background-size: cover;
      -o-background-size: cover;
      background-size: cover;
    }

    /* íƒ€ì´í‹€ìƒë‹¨ */
    .mytitle {
      width: 100%;
      height: 250px;

      color: white;

      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-shadow: 4px 4px 0px #595858, 8px 8px 0px #000000;
    }

    /* ë©”ë‰´ì°½1 */
    .mymenu {
      width: 100%;
      height: 50px;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      position: sticky;
      padding-top: 32px;
      top: -32px;
    }

    /* ì˜í™”ê¸°ë¡í•˜ê¸°ë²„íŠ¼1_ìˆ˜ì •ìš”ë§ */
    .mytitle > button {
      width: 200px;
      height: 50px;

      background-color: transparent;
      color: white;

      border-radius: 50px;

      border: 1px solid white;

      margin-top: 10px;
    }

    /* ì˜í™”ê¸°ë¡í•˜ê¸°ë²„íŠ¼2_ìˆ˜ì •ìš”ë§ */
    .mytitle > button:hover {
      border: 2px solid white;
    }

    /* ë¦¬ë·°ì¹´ë“œì°½ ì „ì²´div */
    .reviews {
      max-width: 1200px;
      width: 100%;
      margin: 20px auto 0px auto;
    }

    /* ê°œê°œì˜ ë¦¬ë·°ì¹´ë“œdiv */
    .review {
      background-color: white;
    }

    /* ë¡œê·¸ì¸ë²„íŠ¼ div */
    .login_out_btn {
      height: 80px;
      float: right;
      display: flex;
      flex-direction: column;
      margin: 0px 30px 0px 0px;
      position: sticky;
      padding-top: 32px;
      top: -32px;
    }

    /* ë¡œê·¸ì¸ë²„íŠ¼ íš¨ê³¼ */
    .login_out_btn > button {
      width: 100px;
      height: 35px;
      background-color: black;
      border-radius: 50px;
      border: 1px solid white;
      color: white;
      margin: 10px 20px auto auto;
      justify-content: end;
      align-items: flex-end;
    }

    /* ë©”ë‰´ì°½2 ì „ì²´div */
    .local {
      width: 500px;
      height: 50px;
      margin: auto;

      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;

      position: sticky;
      padding-top: 32px;
      top: -32px;
    }

    /* ì˜í™”ê¸°ë¡í•˜ê¸°ì°½div ìˆ˜ì •ìš”ë§ */
    .mypost {
      max-width: 500px;
      width: 95%;

      margin: 20px auto 0px auto;

      box-shadow: 0px 0px 3px 0px gray;
      padding: 20px;

      display: none;
    }

    /* ì˜í™” ê¸°ë¡í•˜ê¸° ë‹«ê¸° ë²„íŠ¼1 ìˆ˜ì •ìš”ë§ */
    .mybtns {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      margin-top: 20px;
    }

    /* ì˜í™” ê¸°ë¡í•˜ê¸° ë‹«ê¸° ë²„íŠ¼2 ìˆ˜ì •ìš”ë§ */
    .mybtns > button {
      margin-right: 10px;
    }

    .logoutbtn {
      margin: auto;
    }

    h1 {
      font-size: 5rem;
    }
  </style>

  <script>
    $(document).ready(function () {
      listing();
    });
    // ê²½ë¡œì„¤ì •í•„ìš” , dbì—ì„œ ë°›ì•„ì˜¨ì •ë³´ë¥¼ í¬ìŠ¤íŒ…ë°•ìŠ¤ì— ë¶™ì—¬ì£¼ëŠ”ê±°
    function listing() {
      $.ajax({
        type: "GET",
        url: "/index/post",
        data: {},
        success: function (response) {
          let rows = response["hotelsList"];
          for (let i = 0; i < rows.length; i++) {
            let imageUrl = rows[i]["url"];
            let hotelName = rows[i]["hotelName"];
            let desc = rows[i]["desc"];
            let star = rows[i]["star"];
            let local = rows[i]["local"];

            let star_image = "â­".repeat(star);

            let temp_html = `<div onclick="window.open('/reviewpost');">
                                      <div class="col"></div>
                                          <div class="col">
                                          <div class="review">
                                              <img src="${imageUrl}" class="card-img-top">
                                                <div class="card-body">
                                                  <h4 class="card-title">${hotelName}</h4>
                                                  <p>${local}</p>
                                                  <p>${star_image}</p>
                                                  <p class="desc">${desc}</p>
                                                </div>
                                              </div>
                                          </div>
                                      </div>`;
            $("#cards-box").append(temp_html);
          }
        },
      });
    }

    // ì˜í™”ê¸°ë¡í•˜ê¸° ì—ì„œ ê°’ì„ ì…ë ¥ë°›ì•„ DBì— ì €ì¥
    function posting() {
      let hotelName = $("#hotelName").val();
      let imageUrl = $("#imageUrl").val();
      let local = $("#local").val();
      let star = $("#star").val();
      let desc = $("#desc").val();
      console.log(hotelName, imageUrl, local, star, desc);

      $.ajax({
        type: "POST",
        url: "index/post",
        data: {
          imageUrl_give: imageUrl,
          star_give: star,
          desc_give: desc,
          hotelName_give: hotelName,
          local_give: local,
        },
        success: function (response) {
          alert(response["msg"]);
          window.location.reload();
        },
      });
    }
    // ì˜í™”ê¸°ë¡í•˜ê¸°ì°½ ì—´ê³  ìˆ¨ê¸°ê¸°
    function open_box() {
      $("#post-box").show();
    }

    function close_box() {
      $("#post-box").hide();
    }

  </script>

  <body class="fullbody">
    <!-- íƒ€ì´í‹€ìƒë‹¨ê³¼ ë©”ë‰´ -->
    <div class="BG_image">
      <div class="mytitle">
        <h1>Hotelâ€™s Parta</h1>
        <h3>ì§€ì—­ë³„ í˜¸í…” ë¦¬ë·° ì‚¬ì´íŠ¸!</h3>
      </div>
      <div class="login_out_btn">
        <button onclick="open_box()">POST</button>
        <button type="button" class="logoutbtn" onclick="location.href='/'">LOG OUT</button>
      </div>
      <div class="mymenu">
        <div class="local">
          <ul>
            <button type="button">
              <img
                src="https://pic.sopili.net/pub/emoji/noto-emoji/png/128/emoji_u1f303.png"
                width="32"
                height="32"/> ì„œ ìš¸
            </button>

            <button type="button">
              <img
                src="https://pic.sopili.net/pub/emoji/noto-emoji/png/128/emoji_u1f309.png"
                width="32"
                height="32"/> ë¶€ ì‚°
            </button>

            <button type="button">
              <img
                src="https://pic.sopili.net/pub/emoji/noto-emoji/png/128/emoji_u1f3dd.png"
                width="32"
                height="32"/> ì œ ì£¼
            </button>

            <button type="button">
              <img
                src="https://pic.sopili.net/pub/emoji/noto-emoji/png/128/emoji_u1f682.png"
                width="32"
                height="32"/> ì¶© ì²­
            </button>

            <button type="button">
              <img
                src="https://pic.sopili.net/pub/emoji/noto-emoji/png/128/emoji_u1f3c4_200d_2642.png"
                width="32"
                height="32"/> ê°• ì›
            </button>
          </ul>
        </div>
      </div>

      <div class="reviews" style="margin-top:20px;">
        <div class="mypost" id="post-box">
          <div class="form-floating mb-3">
            <input
              id="hotelName"
              type="text"
              class="form-control"
              placeholder="hotelname"
            />
            <label>í˜¸í…” ì´ë¦„</label>
          </div>
          <div class="form-floating mb-3">
            <input
              id="imageUrl"
              type="url"
              class="form-control"
              placeholder="url"
            />
            <label>í˜¸í…” URL</label>
          </div>
          <div class="input-group mb-3">
            <select class="form-select" id="local">
              <option selected>ì§€ì—­ì„ì„ íƒí•˜ì„¸ìš”</option>
              <option value="ì„œìš¸">ğŸ™ ì„œ ìš¸</option>
              <option value="ë¶€ì‚°">ğŸ– ë¶€ ì‚°</option>
              <option value="ì œì£¼">ğŸ ì œ ì£¼</option>
              <option value="ì¶©ì²­">ğŸ›£ ì¶© ì²­</option>
              <option value="ê°•ì›">ğŸ‚ ê°• ì›</option>
            </select>
            <label class="input-group-text" for="inputGroupSelect02"
              >ì§€ì—­ì„ íƒ</label
            >
          </div>
          <div class="input-group mb-3">
            <label class="input-group-text" for="inputGroupSelect01"
              >ë³„ì </label
            >
            <select class="form-select" id="star">
              <option selected>-- ì„ íƒí•˜ê¸° --</option>
              <option value="1">â­</option>
              <option value="2">â­â­</option>
              <option value="3">â­â­â­</option>
              <option value="4">â­â­â­â­</option>
              <option value="5">â­â­â­â­â­</option>
            </select>
          </div>
          <div class="form-floating">
            <textarea
              id="desc"
              class="form-control"
              placeholder="desc"
            ></textarea>
            <label for="floatingTextarea2">í˜¸í…”ì •ë³´</label>
          </div>
          <div class="mybtns">
            <button onclick="posting()" type="button" class="btn btn-dark">
              í˜¸í…” ê¸°ë¡í•˜ê¸°
            </button>
            <button onclick="close_box()" type="button" class="btn btn-dark">
              í¬ìŠ¤íŠ¸ ë‹«ê¸°
            </button>
          </div>
        </div>
        <div class="row row-cols-1 row-cols-md-4 g-4" id="cards-box"></div>
      </div>
    </div>
  </body>
</html>